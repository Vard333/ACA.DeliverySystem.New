@page "/Order/{orderId:int}"
@inherits OrderDetailBase

<PageTitle>Order Details</PageTitle>

<style>
    .order-detail-container {
        background-color: rgba(0, 0, 0, 0.7);
        padding: 20px;
        border-radius: 10px;
        color: white;
        max-width: 600px;
        margin: auto;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .order-detail-item {
        margin-bottom: 15px;
        padding: 10px;
        border-bottom: 1px solid #444;
    }

        .order-detail-item:last-child {
            border-bottom: none;
        }

        .order-detail-item h4 {
            margin: 0;
            color: #9b59b6;
        }

        .order-detail-item p {
            margin: 5px 0;
            font-size: 16px;
        }

    .action-buttons {
        margin-top: 20px;
    }

    .action-button {
        display: inline-block;
        margin-right: 10px;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        color: white;
        font-weight: bold;
        text-align: center;
        text-decoration: none;
        transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    }

    .cancel-button {
        background-color: #e74c3c; /* Red color */
        box-shadow: 0 4px 8px rgba(231, 76, 60, 0.5); /* Red shadow */
    }

        .cancel-button:hover {
            background-color: #c0392b; /* Darker red on hover */
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(231, 76, 60, 0.6); /* More pronounced shadow on hover */
        }

        .cancel-button:active {
            background-color: #a93226; /* Even darker red on click */
            transform: scale(1);
            box-shadow: 0 4px 8px rgba(231, 76, 60, 0.4); /* Slightly lighter shadow on click */
        }

    .paid-button {
        background-color: #27ae60; /* Green color */
        box-shadow: 0 4px 8px rgba(39, 174, 96, 0.5); /* Green shadow */
    }

        .paid-button:hover {
            background-color: #1e8449; /* Darker green on hover */
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(39, 174, 96, 0.6); /* More pronounced shadow on hover */
        }

        .paid-button:active {
            background-color: #16a085; /* Even darker green on click */
            transform: scale(1);
            box-shadow: 0 4px 8px rgba(39, 174, 96, 0.4); /* Slightly lighter shadow on click */
        }
</style>

<div class="order-detail-container">
    @if (_orderModel == null)
    {
        <p>Loading order details...</p>
    }
    else
    {
        <div class="order-detail-item">
            <p><strong>Name:</strong> @_orderModel.Name.ToString()</p>
            <p><strong>Date:</strong> @_orderModel.Date.ToString("d")</p>
            <p><strong>Progress:</strong> @_orderModel.ProgressEnum.ToString()</p>
            <p><strong>Paid Amount:</strong> @_orderModel.PaidAmount.ToString("C") ֏</p>
            <p><strong>Amount To Pay:</strong> @_orderModel.AmountToPay.ToString("C") ֏</p>

            <h3>Order Items</h3>
            @if (_orderModel.Items.Any())
            {
                <ul class="order-items-list">
                    @foreach (var item in _orderModel.Items)
                    {
                        <li>
                            <p><strong>Item Name:</strong> @item.Name</p>
                            <p><strong>Description:</strong> @item.Description</p>
                            <p><strong>Price:</strong> @item.Price.ToString("C")</p>
                        </li>
                    }
                </ul>
            }
            else
            {
                <p>No items in this order.</p>
            }
        </div>

        <div class="payment-section">
            <label for="paymentAmount">Enter Payment Amount:</label>
            <InputNumber @bind-Value="amountForPay" id="amountForPay" />

            <button @onclick="Pay" class="pay-button">Pay</button>
            <button @onclick="CancelOrder" class="cancel-button">Cancel Order</button>
        </div>
    }
</div>
